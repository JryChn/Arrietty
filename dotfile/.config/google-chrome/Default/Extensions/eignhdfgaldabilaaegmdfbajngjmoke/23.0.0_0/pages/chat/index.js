"use strict";cjce.registerTemplate("bm-p-chat",function(a,n){a.style.setProperty("--accent-color","#00897b");var t,e,c,i,o,s,l,r="https://chat.google.com",m=r+"/u/"+n.account.authuser+"/",u=!1;function d(){var e;u||(u=!0,a.textContent="",e=cjce.createElement("bm-fulldialog",{bmApis:n,onNewTab:function(){n.openTab(m)},lockup:{label:cjBasics.lang.i18n("cj_i18n_00819","Chat")},iconName:"chat",message:cjBasics.lang.i18n("cj_i18n_01336","You need to use a G Suite account to use Hangouts Chat"),actionLabel:cjBasics.lang.i18n("cj_i18n_01543","Switch account"),action:function(){n.pageManager.navigate("accountchooser")}}),a.appendChild(e))}cjgApis.info.getIsConsumerGmail(n.account)?d():(t=cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"chat",serviceLabel:cjBasics.lang.i18n("cj_i18n_00819","Chat"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:n,onNewTab:function(){l.cjceGetCleanUrl(r).then(function(e){var a=e||m;n.openTab(a)})}}),a.appendChild(t),e=t.cjceDrawerEl,c={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"559",divider:!0},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},meet:{iconName:"__mdi:meet",label:cjBasics.lang.i18n("cj_i18n_00809","Meet"),shortcutId:"545",external:!n.servicesDatabase.meet},hangouts:{iconName:"__mdi:hangout",label:cjBasics.lang.i18n("cj_i18n_01337","Classic Hangouts"),shortcutId:"218"}},i=cjce.createElement("bm-navlist",{selectedId:"home",items:c,onClick:function(e){"home"!==e&&n.pageManager.navigate(e)},onNewTab:function(e,a){var c=a.newTabUrl||cjgShortcuts.getUrl(a.shortcutId,n.account);n.openTab(c)}}),e.appendChild(i),o=cjBasics.uniqueId.generate(),s=cjBasics.urlParams.attach(m,{bm_iid:o,bm_cid:"chat",bm_cst:"1",bm_wiz:"1",origin:cjBasics.wrif.supported?null:"https://mail.google.com",shell:"1",hl:cjBasics.lang.current}),cjBasics.webRequest.handleIframeHeaders([r+"/*bm_iid="+o+"*"],{handleFirefoxInject:!0,disableOgs:r}),cjBasics.webRequest.catchAndStop(["https://chat.google.com/u/*/error/noaccess*","https://chat.google.com/error/noaccess*"],d,!0),l=cjce.createElement("bm-iframe",{solid:"#fff",src:s,onLoad:function(){t.cjceSetLoading(!1)},onMessage:function(e){var a=e.bm_method,c=e.bm_value;"chatHideNav"===a&&(t.hidden=c)}}),a.appendChild(l))});