"use strict";cjce.registerTemplate("bm-p-customize",function(s,d){var l,o="_",m=["tasks","keep","drive","calendar","gmail","youtube","news","translate","maps","search"];function u(e){var a=l.value.toLowerCase();if(a||!e)for(var c=s.querySelectorAll(".bm-p-customize-pageitem"),t=0;t<c.length;t++){var n=""===a||-1!==c[t].cjceQueryKeywords.indexOf(a);c[t].classList.toggle("bm-p-customize-pageitem--hidden",!n)}}!function(){var e=cjce.createElement("bm-ogb",{serviceIcon:"black_menu_for_google",pageLabel:cjBasics.lang.i18n("cj_i18n_01585","Customize menu")});s.appendChild(e);var a=cjce.createElement("cjmd-subheader",{label:cjBasics.lang.i18n("cj_i18n_02165","Click or drag services to customize the menu")});a.classList.add("bm-p-customize-message"),s.appendChild(a);var c=cjce.createElement("cjmd-appbar",{secondary:!0});l=cjce.createElement("cjmd-searchbox",{label:cjBasics.lang.i18n("cj_i18n_00085","Search"),onInput:u,onClear:u,color:!0}),d.setOnPageDisplayHandler(l.select),c.appendChild(l),s.appendChild(c);var t=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"transparentOnScroll"}),n=cjce.createElement("cjmd-list");n.addEventListener("dragstart",function(e){e.dataTransfer.setData("serviceId",e.target.dataset.id)}),n.addEventListener("click",function(e){var a=document.activeElement||e.target,c=a&&a.dataset.id;c&&(d.userServices.add(c),a.remove(),o=o.replace(c+"_",""))}),t.appendChild(n);var r=-1;function i(e,a){var c,t;a===r&&(c=document.createDocumentFragment(),t=e.join("_")+"_",o!==t&&(o=t,e.sort(function(e,a){var c=m.indexOf(e),t=m.indexOf(a);return c===t?0:t<c?-1:1}).forEach(function(e){var a=function(e){var a=d.servicesDatabase[e]||{},c=a.iconName||"placeholder";d.darkMode&&"googleg"===c&&(c="search");var t=cjce.createElement("cjmd-item",{icon:{serviceName:c},label:a.label||"Page"});t.cjceQueryKeywords=(a.label+"-"+cjgShortcuts.getUrl(a.shortcutId)).toLowerCase(),t.classList.add("bm-p-customize-pageitem"),t.draggable=!0,t.dataset.id=e,t.tabIndex=0;var n=cjce.createElement("cjmd-icon",{name:"__mdi:drag_indicator",size:20});return n.classList.add("bm-p-customize-pageitem__dragicon"),t.appendChild(n),t}(e);c.appendChild(a)}),n.textContent="",n.appendChild(c),u(!1)))}d.userServices.onChange(function(e,a){var c=++r;setTimeout(function(){i(a,c)},c?200:10)}),s.appendChild(t)}()});