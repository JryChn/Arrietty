"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var c,e,a,t,d,l,n,o,r;function i(){d||(o.click(),(!o.__jsaction||.8<parseFloat(window.getComputedStyle(o).opacity))&&setTimeout(i,10))}function u(){d||((r=document.querySelector('path[d*="16V6h-4v14z"]'))?(o=function e(t){return t?"BUTTON"===t.tagName?t:e(t.parentNode):null}(r)||r.parentNode.parentNode,i()):setTimeout(u,10))}function s(){var e=window.location.search.replace(/&bm_cne=[a-zA-Z0-9]+&/g,"").replace(/&eid=[a-zA-Z0-9]+&/g,"")+"&bm_sid="+Date.now();d&&(e+="&eid="+encodeURIComponent(d)),l&&(e+="&bm_cne=1"),window.location.search=e}function m(e){var t=function(e){if(!e||"string"!=typeof e)return null;try{return window.atob(e)}catch(e){return null}}(d=e),n=function(e){if(!e)return null;var t=window.btoa(e.split(" ")[0]),n=t.substring(0,t.length-5);return n&&document.querySelector('div[data-eventchip][data-opens-details="true"][data-eventid^="'+n+'"]')||null}(t);n?parseInt(window.getComputedStyle(n).zIndex,10)<15&&n.click():(d=t?window.btoa(t):null,s())}window.top!==window&&"https://calendar.google.com"===window.location.origin&&window.location.pathname.startsWith("/calendar")&&(c=("undefined"!=typeof chrome&&chrome.runtime?chrome:"undefined"!=typeof browser&&browser).runtime.getURL("PATH/").replace("/PATH/",""),("object"!==_typeof(e=window.location.ancestorOrigins)||1===e.length&&e[0]===c)&&(a=c.startsWith("moz-extension://"),t=window.location.search,d=-1!==t.indexOf("eid=")&&decodeURIComponent(t.split("eid=")[1].split("&")[0]),l=-1!==t.indexOf("bm_cne=")&&decodeURIComponent(t.split("bm_cne=")[1].split("&")[0]),(n=document.createElement("script")).textContent='!function(n,r,t,e,c){"use strict";t.defineProperty(t.prototype,(c.location.search.match(/[&?]bm_cfn=([a-zA-Z$]{2,3})/)||"")[1]||"Lp",{get:function(){return this[r]},set:function(t){var e=t.toString();this[r]=-1===e.indexOf(n)?t:new(c["F"+e.substr(1,7)])((e+r).replace(n,"dow.loc").replace("function(){","").replace("}"+r,""))}}),e.currentScript&&e.currentScript.remove()}("dow.top.loc","a"+Date.now().toString(36),Object,document,window);',function e(){document.documentElement?document.documentElement.insertBefore(n,document.documentElement.firstChild):setTimeout(e,.001)}(),function e(){!function(){var e=window.location.pathname.replace(/\/b\/\d\//,"/");if(!e.startsWith("/calendar/r"))return 1;var t=e.replace("/calendar/r","");return t.startsWith("/settings")||t.startsWith("/eventedit")||t.startsWith("/create")||t.startsWith("/schedule")||t.startsWith("/proposetime")||t.startsWith("/search")||t.startsWith("/trash")}()||window.parent.postMessage({bm_method:"calendarirenderOpenUrlInNew",bm_value:window.location.href},c),setTimeout(e,1e3)}(),window.addEventListener("message",function(e){var t,n,o,r,i;e.origin===c&&(e.isTrusted||a)&&(t=e.data||{},o=t.bm_value,"calendarirenderShowEventActivate"===(n=t.bm_method)?(l=null,(r=document.querySelector('div[data-dragsource-type] span[style="top: -10px"] > span'))&&r.click(),setTimeout(function(){m(o)},10)):"calendarirenderShowEventClose"===n?((i=(document.querySelector('body > div[id] > div[isfullscreen="true"] > div > div[role="dialog"]')||document).querySelector('path[d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"]'))&&i.parentNode&&i.parentNode.parentNode||document.body).click():"calendarirenderAddEventActivate"===n?(l=!0,d=null,u()):"calendarirenderAddEventCancel"===n?(document.querySelector('div[data-dragsource-type][data-eventid] > div:first-child > div[role="button"][aria-label]')||document.body).click():"calendarirenderAddEventSave"===n&&document.querySelector('div[data-dragsource-ignore] > div[role="button"] + div[role="button"]:last-child').click())}),window.addEventListener("load",function(){document.getElementById("aso_search_form_anchor")||s(),d&&m(d)}),l&&u()))}();