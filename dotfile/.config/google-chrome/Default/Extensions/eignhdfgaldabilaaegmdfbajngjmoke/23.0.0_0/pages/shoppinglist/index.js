"use strict";cjce.registerTemplate("bm-p-shoppinglist",function(e,c){var n="https://shoppinglist.google.com",i=n+"/u/"+c.account.authuser+"/lists/default";var a=cjce.createElement("bm-ogb",{loading:!0,serviceIcon:"shoppinglist",serviceLabel:cjBasics.lang.i18n("cj_i18n_01028","Shopping List"),pageLabel:cjBasics.lang.i18n("cj_i18n_01359","My shopping list"),navigator:{onClick:function(){h.cjceSendFrameCommand({method:"bmCstClickDomElement",value:".menuButton"},n)}},bmApis:c,onNewTab:r});e.appendChild(a);var t,o,l=(t=cjce.createElement("bm-ogb",{displayBack:!0,floating:!0,bmApis:c,onNewTab:r,pageLabel:cjBasics.lang.i18n("cj_i18n_01362","Share list"),serviceLabel:cjBasics.lang.i18n("cj_i18n_01028","Shopping List"),onBack:function(){t.hidden=!0,p()}}),o=cjce.createElement("cjmd-button",{color:!0,fill:!0,label:cjBasics.lang.i18n("cj_i18n_01363","Save"),onClick:function(){t.hidden=!0,h.cjceSendFrameCommand({method:"bmCstClickDomElement",value:".saveButton"},n),setTimeout(p,200)}}),t.cjceAppendChild(o),t);l.hidden=!0,e.appendChild(l);var s=cjce.createElement("cjmd-iconbutton",{iconName:"__mdi:person_add",label:cjBasics.lang.i18n("cj_i18n_01360","Share"),onClick:function(){h.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'.headerControl[routerlink*="/share"]'},n),l.hidden=!1}});a.cjceAppendChild(s);var m=cjBasics.uniqueId.generate(),d=cjBasics.urlParams.attach(i,{bm_cid:"shoppinglist",bm_cst:"1",bm_wiz:"1",bm_iid:m,hl:cjBasics.lang.current});function r(){h.cjceGetCleanUrl(n).then(function(e){var n=e||i;c.openTab(n)})}function p(){h.cjceSendFrameCommand({method:"bmCstClickDomElement",value:".backButton"},n)}cjBasics.webRequest.handleIframeHeaders([n+"/*bm_iid="+m+"*","https://shopping.google.com/*bm_iid="+m+"*"],{handleFirefoxInject:!0});var h=cjce.createElement("bm-iframe",{src:d,solid:"#fff",shadow:!0,onLoad:function(){a.cjceSetLoading(!1)},onMessage:function(e){var n=e.bm_method,c=e.bm_value;"shoppinglistUpdateLabel"===n?a.cjceSetPageLabel(c):"shoppinglistShareOpen"===n&&(l.hidden=!1)}});e.appendChild(h)});