"use strict";cjce.registerTemplate("bm-p-blogger",function(c,d){var t,i=["https://www.googleapis.com/auth/blogger.readonly"],l="https://content.googleapis.com/blogger/v3/",a="https://www.blogger.com/"+d.wizPath,o="#009EB2";c.style.setProperty("--accent-color","#ff5722");var s,r,g="solid",b={allposts:{icon:{name:"__mdi:library_books",theme:g},label:cjBasics.lang.i18n("cj_i18n_01184","Posts"),newTabUrl:"blog/posts/",external:!0},overviewstats:{icon:{name:"__mdi:assessment",theme:g},label:cjBasics.lang.i18n("cj_i18n_01185","Stats"),newTabUrl:"blog/stats/week/",external:!0},comments:{icon:{name:"__mdi:mode_comment",theme:g},label:cjBasics.lang.i18n("cj_i18n_01186","Comments"),newTabUrl:"blog/comments/",external:!0},adsenseoverview:{icon:{name:"__mdi:attach_money",theme:g},label:cjBasics.lang.i18n("cj_i18n_01187","Earnings"),newTabUrl:"blog/earnings/",external:!0},allpages:{icon:{name:"__mdi:filter_none",theme:g},label:cjBasics.lang.i18n("cj_i18n_01188","Pages"),newTabUrl:"blog/pages/",external:!0},pageelements:{icon:{name:"__mdi:drive_site",theme:g},label:cjBasics.lang.i18n("cj_i18n_01189","Layout"),newTabUrl:"blog/layout/",external:!0},template:{icon:{name:"__mdi:format_paint",theme:g},label:cjBasics.lang.i18n("cj_i18n_01190","Theme"),newTabUrl:"blog/themes/",external:!0},basicsettings:{icon:{name:"__mdi:settings",theme:g},label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),newTabUrl:"blog/settings/",external:!0}};function m(){_("")}function _(e){var n=a+e;d.openTab(n)}function j(e){var a,n;t.textContent="",r.hidden=!Array.isArray(e)||1!==e.length,Array.isArray(e)&&0!==e.length?(a=cjce.createElement("cjmd-list"),t.appendChild(a),e.forEach(function(e){var n=function(n){var a=n.id,c=cjce.createElement("cjmd-item");c.addEventListener("click",function(e){e.target===c&&_("blog/posts/"+a)});var e=cjce.createElement("cjmd-icon",{name:"__mdi:chat_bubble",color:!0});c.appendChild(e);var t=document.createElement("div");t.className="cjmd-item__body",c.appendChild(t);var i,l=document.createElement("div");l.className="cjmd-item__header",l.textContent=n.name,t.appendChild(l),n.description&&((i=document.createElement("div")).className="cjmd-secondarytext",i.textContent=n.description,t.appendChild(i));var o=document.createElement("div");o.className="cjmd-item__hovertools",c.appendChild(o);var s=cjce.createElement("cjmd-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_06292","View blog"),icon:{name:"__mdi:visibility",theme:g}});s.addEventListener("click",function(e){d.openTab(n.url)}),o.appendChild(s);var r=cjce.createElement("cjmd-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_06289","New post"),icon:{name:"__mdi:create",theme:g}});r.addEventListener("click",function(e){_("blogger.g?blogID="+a+"#editor")}),o.appendChild(r);var m=cjce.createElement("cjmd-iconbuttonmenu",{theme:g,label:cjBasics.lang.i18n("cj_i18n_06294","More actions"),items:b,compact:!0,onClick:function(e){_(b[e].newTabUrl+a)}});return o.appendChild(m),c}(e);a.appendChild(n)})):(n=cjce.createElement("cjmd-emptystate",{color:!0,label:cjBasics.lang.i18n("cj_i18n_00260","No blogs found"),subLabel:cjBasics.lang.i18n("cj_i18n_00261","To create a new blog, go to blogger.com"),iconName:"__mdi:message",theme:g}),t.appendChild(n))}function u(){var n,e,a=!1;cjgApis.cache.getItem(d.account,"bm_cache_v30__blogger__blogs").then(function(e){a||Array.isArray(e)&&(n=JSON.stringify(n),j(e))}),e=cjBasics.urlParams.attach(l+"users/self/blogs",{prettyPrint:"false",fields:"items(description,id,name,url)"}),cjgApis.request(e,{fetchAs:"json"},{account:d.account,requiredScopes:i}).then(function(e){var n=e.items||[];return cjgApis.cache.setItem(d.account,"bm_cache_v30__blogger__blogs",n),n}).then(function(e){a=!0,JSON.stringify(e)!==n&&j(e)},function(e){a=!0,e&&"not_authorized"===e.cjg_error?function(e){t.textContent="";var n=cjce.createElement("bm-fulldialog",{inline:!0,bmApis:d,onNewTab:m,lockup:{label:cjBasics.lang.i18n("cj_i18n_00189","Blogger")},iconName:"blogger",message:cjBasics.lang.i18n("cj_i18n_00259","Before you can use this page, you need to give access to load your Blogger blogs"),actionLabel:cjBasics.lang.i18n("cj_i18n_01916","Continue with Google"),actionG:!0,action:function(){cjgApis.auth.requestPermissions(d.account,e)}});t.appendChild(n)}(e.cjg_missing_scopes):function(){t.textContent="";var e=cjce.createElement("cjmd-emptystate",{label:cjBasics.lang.i18n("cj_i18n_00262","Couldn't load your blogs"),subLabel:cjBasics.lang.i18n("cj_i18n_00263","Please make sure you are connected to the internet"),iconName:"__mdi:message"});t.appendChild(e)}()}).then(function(){s.cjceSetLoading(!1)})}!function(){s=cjce.createElement("bm-ogb",{loading:o,serviceIcon:"blogger",serviceLabel:cjBasics.lang.i18n("cj_i18n_00189","Blogger"),drawer:{color:!0},pageLabel:cjBasics.lang.i18n("cj_i18n_01183","Your blogs"),searchbox:{color:o,onSubmit:function(e){_("?q="+encodeURIComponent(e))},submitInNewTab:!0},bmApis:d,onNewTab:m}),c.appendChild(s),d.setOnPageDisplayHandler(s.cjceSearchboxEl.select);var e=s.cjceDrawerEl,n={yourblogs:{icon:{name:"__mdi:home",theme:g},label:cjBasics.lang.i18n("cj_i18n_01183","Your blogs")},reading:{icon:{name:"__mdi:bookmark",theme:g},label:cjBasics.lang.i18n("cj_i18n_01191","Reading list"),newTabUrl:"dashboard/reading",external:!0,divider:!0}};Object.keys(b).forEach(function(e){n[e]=b[e]});var a=cjce.createElement("bm-navlist",{selectedId:"yourblogs",items:n,onNewTab:function(e,n){"yourblogs"===e?m():_("reading"===e||"basicsettings"===e?n.newTabUrl:n.newTabUrl+"0")}});e.appendChild(a),(r=cjce.createElement("cjmd-fab",{fill:!0,icon:{name:"__mdi:edit",theme:g},color:!0,onClick:function(){_("blogger.g#editor")}})).hidden=!0,c.appendChild(r),t=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),c.appendChild(t),u()}()});