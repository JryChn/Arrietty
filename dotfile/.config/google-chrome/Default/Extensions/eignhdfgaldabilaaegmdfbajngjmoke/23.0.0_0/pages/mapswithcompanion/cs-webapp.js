"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){if(window.top!==window){var e=window.location.origin;if(("https://www.google.com"===e||"https://maps.google.com"===e)&&-1!==window.location.pathname.indexOf("/maps/companion")){var u,s,i,m,n,t,d=("undefined"!=typeof chrome&&chrome.runtime?chrome:"undefined"!=typeof browser&&browser).runtime.getURL("PATH/").replace("/PATH/",""),o=window.location.ancestorOrigins;if("object"===_typeof(o)){if(o.length<1||2<o.length)return;if(o[0]!==d&&o[1]!==d)return;if(2===o.length&&!o[0].endsWith(".google.com"))return}-1!==window.location.search.indexOf("bm_wfn")&&(u=d.startsWith("moz-extension://"),s=!1,i=null,m='img[src*="x/search_"] + input',n='button > img[src*="x/search_"]',(t=document.createElement("script")).textContent='!function(t,n,e,r,o,s){var i=e.search.match(/[&?]bm_wfn=([a-zA-Z$]{1,3})_([a-zA-Z$]{1,3})/),c=s[n]||{},u=c[t],f={},a={};function d(n,t){var e=r.keys(s);e[e.indexOf("location")]="addEventListener",e.forEach(function(a){"function"!=typeof s[a]||f[a]?f[a]=s[a]:r.defineProperty(f,a,{value:function(n,t,e,r,o,i,c,u,f){return s[a](n,t,e,r,o,i,c,u,f)}})}),u(n,function(n){r.defineProperty(n,i[1],{get:function(){return f},set:function(){}}),t(n)})}r.defineProperty(c,i[2],{get:function(){return function(){return{getParentIframe:function(){return null}}}},set:function(){}}),r.keys(e).forEach(function(n){a[n]=e[n]}),a.ancestorOrigins=["https://mail.google.com"],f.location=a,r.defineProperty(c,t,{get:function(){return d},set:function(n){u=n}}),r.defineProperty(s,n,{get:function(){return c},set:function(n){n&&n[t]&&(u=n[t])}}),o.currentScript&&o.currentScript.remove()}("__jsload__","mapslite",location,Object,document,window);',function e(){document.documentElement?document.documentElement.insertBefore(t,document.documentElement.firstChild):setTimeout(e,.001)}(),window.addEventListener("message",function(e){var t,n,o,i,c,a,r;e.origin===d&&(e.isTrusted||u)&&(o=(t=e.data||{}).bm_value,"mapswithcompanionOpenInNew"===(n=t.bm_method)?(c=e.source,a=t.bm_request,!(r=document.querySelector('[jsaction="map.openinmaps"], [aria-label*="Open in Maps"], [data-tooltip*="Open in Maps"]'))&&s&&(r=(r=document.querySelector('button[aria-label] > img[src*="x/open_in_new_"]'))&&r.parentNode),r&&f(r),c.postMessage({bm_request:a,bm_value:Boolean(r)},d)):"mapswithcompanionUpdateSearchQuery"===n?w(o):"mapswithcompanionSubmitSearchQuery"===n?b():"mapswithcompanionRemoveBlurHandler"===n?l(document.querySelector(m)):"mapswithcompanionGoBack"===n?(i=document.querySelector('img[src*="x/arrow_back_"]'))&&f(i):"mapswithcompanionToggleFocusState"===n&&(o?document.documentElement.dataset.bmCsMapswithcompanionFocusState="1":setTimeout(function(){document.documentElement.dataset.bmCsMapswithcompanionFocusState="0"},200)))}),function e(){var t=Boolean(document.querySelector('img[src*="x/arrow_back_"]'));s!==t&&(s=t,window.parent.postMessage({bm_method:"mapswithcompanionBackState",bm_value:t},d));var n=document.querySelector('h1[class*="__title-container"] > div[class*="__subtitle"]'),o=n&&n.textContent||null;i!==o&&(i=o,window.parent.postMessage({bm_method:"mapswithcompanionUpdatePageTitle",bm_value:o},d)),setTimeout(e,100)}(),function e(){var t,n,o=document.querySelector("#map > div:first-child > div:first-child");o?((n=document.createElement("button")).className="bm-cs-mapswithcompanion-fab",n.addEventListener("click",function(){w("Navigate"),b()}),t=n,o.appendChild(t)):setTimeout(e,100)}(),"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?h():window.addEventListener("DOMContentLoaded",h))}}function l(e){var t;e.mapswithcompanionQueryInputPrepared||(e.mapswithcompanionQueryInputPrepared=!0,"object"===_typeof(e.__jsaction)&&delete e.__jsaction.blur,(t=e.getAttribute("jsaction"))&&-1!==t.indexOf(";blur:")&&e.setAttribute("jsaction",t.replace(";blur:",";bluuuur:")),setTimeout(function(){r(e,"focus")},1e3))}function c(e,t){var n=new window.InputEvent(t,{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}function a(e,t){var n=new window.KeyboardEvent(t,{bubbles:!0,cancelable:!0,keyCode:13});e.dispatchEvent(n)}function r(e,t){var n=new window.FocusEvent(t,{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(n)}function p(e,t){var n=new window.MouseEvent(t,{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(n)}function f(e){p(e,"mousedown"),p(e,"mouseup"),p(e,"click")}function w(e){if("string"==typeof e){var t=document.querySelector(m);if(!t)return f(document.querySelector(n)),void setTimeout(function(){w(e)});l(t),t.value=e,c(t,"input")}}function b(){var e,t;document.documentElement.dataset.bmCsMapswithcompanionFocusState="0",e=document.querySelector(m),t=0,setTimeout(function(){f(e)},t+=50),setTimeout(function(){r(e,"focus")},t+=50),setTimeout(function(){a(e,"keydown")},t+=50),setTimeout(function(){a(e,"keyup")},t+=50),setTimeout(function(){c(e,"input")},250)}function h(){var e,t,n,o=(e=document.body.textContent,t=e.match(/&&_\.([a-zA-Z$]{1,3})\.location\.ancestorOrigins/)||e.match(/call\(_\.([a-zA-Z$]{1,3})\.location\.ancestorOrigins/),n=e.match(/([a-zA-Z$]{1,3})\("iframes\.getContext/),t||n?[t&&t[1]||null,n&&n[1]||null]:null);window.parent.postMessage({bm_method:"mapswithcompanionNewFunctionNames",bm_value:o},d)}}();