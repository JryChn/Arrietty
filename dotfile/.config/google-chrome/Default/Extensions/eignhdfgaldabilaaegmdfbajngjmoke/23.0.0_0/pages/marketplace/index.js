"use strict";cjce.registerTemplate("bm-p-marketplace",function(e,c){var a="https://gsuite.google.com",n=a+"/"+c.wizPath+"marketplace/";var t=cjce.createElement("bm-ogb",{navigator:{onClick:function(){m.cjceSendFrameCommand({method:"marketplaceToggleDrawer"},a)}},serviceIcon:"gsuite_marketplace",serviceLabel:cjBasics.lang.i18n("cj_i18n_00456","G Suite"),pageLabel:cjBasics.lang.i18n("cj_i18n_01512","Marketplace"),searchbox:{onSubmit:function(e){m.cjceSendFrameCommand({method:"bmCstFillAndSubmit",value:{selector:"input",newValue:e}},a)},onClear:function(){m.cjceSendFrameCommand({method:"marketplaceClearResults"},a)}},bmApis:c,onNewTab:function(){m.cjceGetCleanUrl(a).then(function(e){var a=e;a&&-1===a.indexOf("/marketplace/appfinder")||(a=n),c.openTab(a)})},onBack:function(){m.cjceSendFrameCommand({method:"marketplaceGoBack"},a)}});e.appendChild(t),c.setOnPageDisplayHandler(t.cjceSearchboxEl.select);var i=cjBasics.uniqueId.generate(),r=cjBasics.urlParams.attach(n+"appfinder",{bm_cid:"marketplace",bm_iid:i,bm_cst:"1",bm_wiz:"1",hl:cjBasics.lang.current});cjBasics.webRequest.handleIframeHeaders([a+"/*bm_iid="+i+"*"],{handleFirefoxInject:!0});var m=cjce.createElement("bm-iframe",{src:r,solid:"#fff",shadow:!0,onMessage:function(e){var a=e.bm_method,c=e.bm_value;"marketplaceBackState"===a&&t.cjceSetBackState(c)}});e.appendChild(m)});