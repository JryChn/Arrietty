"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var d,c,e,m,l,f;window.top===window||"https://translate.google.com"===(d=window.location).origin&&(c=("undefined"!=typeof chrome&&chrome.runtime?chrome:"undefined"!=typeof browser&&browser).runtime.getURL("PATH/").replace("/PATH/",""),("object"!==_typeof(e=window.location.ancestorOrigins)||1===e.length&&e[0]===c)&&(m=c.startsWith("moz-extension://"),l=["home","saved","history"],f=new Promise(function(e){"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?e():window.addEventListener("DOMContentLoaded",function(){e()})}),document.addEventListener("mousedown",function(e){var t,n,o=function e(t){return t?"A"===t.tagName?t:e(t.parentNode):null}(e.target);o&&o.href&&(t=-1!==o.pathname.indexOf("/community"),n=o.search.match(/[?&]u=([^&]+)/),(t||n)&&(o.href="",o.target="",o.addEventListener("click",function(){var e={};t?e.bm_method="translateOpenCommunity":(e.bm_method="translateOpenUrlTranslator",e.bm_value=decodeURIComponent(n[1])),window.parent.postMessage(e,c)})))}),window.addEventListener("hashchange",function(){var t="home";d.hash.replace("#","").split("&").forEach(function(e){e.startsWith("view=")&&(t=e.split("=")[1])}),window.parent.postMessage({bm_method:"translateUpdateView",bm_value:t},c)}),window.addEventListener("message",function(e){if(e.origin===c&&(e.isTrusted||m)){var t=e.data||{},n=t.bm_method,o=t.bm_value,r=document.getElementById("source");if("translateSubmitAndGetHash"===n){var a=document.querySelector(".go-button"),i=new window.MouseEvent("mousedown"),s=new window.MouseEvent("mouseup");a&&(a.dispatchEvent(i),a.dispatchEvent(s)),r&&r.focus(),setTimeout(function(){e.source.postMessage({bm_request:t.bm_request,bm_value:d.hash.replace("#","")},e.origin)},200)}else if("translateUpdateView"===n){if(-1===l.indexOf(o))return;var u=d.hash.replace("#","").split("&").filter(function(e){return!e.startsWith("view=")});u.unshift("view="+o),d.hash=u.join("&")}else"translateFocus"===n?f.then(function(){r.focus()}):"translatePrefillText"===n&&f.then(function(){r.value=o})}})))}();