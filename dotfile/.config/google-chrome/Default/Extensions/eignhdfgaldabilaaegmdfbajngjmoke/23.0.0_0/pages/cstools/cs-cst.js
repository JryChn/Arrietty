"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var u,e,l,n,t,i,r;function a(e){return e?"A"===e.tagName?e:a(e.parentNode):null}function d(e,t){var o=new window.InputEvent(t,{bubbles:!0,cancelable:!0});e.dispatchEvent(o)}function m(e,t){var o=new window.KeyboardEvent(t,{bubbles:!0,cancelable:!0,keyCode:13});e.dispatchEvent(o)}function o(e,t){var o=new window.MouseEvent(t,{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(o)}function w(e){o(e,"mousedown"),o(e,"mouseup"),o(e,"click")}function b(e,t){var o=document.querySelector(e);if(o){for(;0<t;)o=o.parentNode,t--;w(o)}else console.debug(e+" couldn't be found")}window.top!==window&&window.location.origin.endsWith(".google.com")&&(u=("undefined"!=typeof chrome&&chrome.runtime?chrome:"undefined"!=typeof browser&&browser).runtime.getURL("PATH/").replace("/PATH/",""),("object"!==_typeof(e=window.location.ancestorOrigins)||1===e.length&&e[0]===u)&&(l=u.startsWith("moz-extension://"),n=-1!==navigator.platform.toLowerCase().indexOf("mac")?"metaKey":"ctrlKey",t=parseInt(window.location.search.split("bm_cst=")[1].split("&"),10)%2==0,i=window.location.origin,t&&(r=window.location.search,document.addEventListener("mousedown",function(e){var t,o,n=a(e.target);n&&!n.bmProcessed&&(n.bmProcessed=!0,n.href&&(t=n.origin,o=n.search,t.match(/^https:\/\/[a-z]{1,}\.app\.goo\.gl$/)&&(n.href=decodeURIComponent(o.match(/[?&](?:link|afl)=(.+?)(?:&|$)/))),t===i&&-1===o.indexOf("bm_cst=")&&(o.startsWith("?")?n.search+=r.replace("?","&"):n.search=r)))},!0),document.addEventListener("click",function(e){var t=a(e.target),o=t&&t.href;(o&&-1===t.search.indexOf("bm_cst=")||1===e.button||e[n])&&(window.parent.postMessage({bm_method:"bmCstOpenUrl",bm_value:o},u),e.stopPropagation(),e.preventDefault())})),window.addEventListener("message",function(e){var t,o,n,i,r,a,c,s;e.origin===u&&(e.isTrusted||l)&&(n=(t=e.data||{}).bm_value,"bmCstGetFrameUrl"===(o=t.bm_method)?e.source.postMessage({bm_request:t.bm_request,bm_value:window.location.href},u):"bmCstUpdatePath"===o?(window.history.pushState(null,null,n),i=new window.PopStateEvent("popstate",{state:{url:n}}),window.dispatchEvent(i)):"bmCstNavigateBack"===o?window.history.back():"bmCstClickDomElement"===o?b(n):"bmCstClickParentElement"===o?b(n.selector,n.depth):"bmCstInputFill"===o?((r=document.querySelector(n.selector)).value=n.newValue,d(r,"input")):"bmCstFillAndSubmit"===o&&((a=document.querySelector(n.selector)).value=n.newValue,c=a,s=0,setTimeout(function(){w(c)},s+=50),setTimeout(function(){m(c,"keydown")},s+=50),setTimeout(function(){m(c,"keyup")},s+=50),setTimeout(function(){d(c,"input")},200)))})))}();