"use strict";cjce.registerTemplate("bm-p-poly",function(e,i){e.style.setProperty("--accent-color","#e51559");var l,a=!cjBasics.wrif.supported,c="https://poly.google.com",n=c+"/"+i.wizPath,o=n,r=[{id:"home",newTabUrl:n,iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home")},{newTabUrl:"https://developers.google.com/poly/"+("0"!==i.account.authuser?"?authuser="+i.account.authuser:""),iconName:"__mdi:code",label:cjBasics.lang.i18n("cj_i18n_01721","Developer Site"),external:!a},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01456","Your stuff")},{newTabUrl:n+"user",iconName:"__mdi:face",label:cjBasics.lang.i18n("cj_i18n_01459","Your profile")},{newTabUrl:n+"uploads",iconName:"__mdi:folder",label:cjBasics.lang.i18n("cj_i18n_01460","Your uploads")},{newTabUrl:n+"likes",iconName:"__mdi:favorite_border",label:cjBasics.lang.i18n("cj_i18n_01461","Your likes")},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_00061","Explore")},{newTabUrl:n+"tiltbrush",icon:{url:"/pages/poly/ic_tiltbrush.png"},label:cjBasics.lang.i18n("cj_i18n_00726","Tilt Brush")},{newTabUrl:n+"blocks",icon:{url:"/pages/poly/ic_blocks.png"},label:cjBasics.lang.i18n("cj_i18n_00911","Blocks")},{newTabUrl:n+"tourcreator",icon:{url:"/pages/poly/ic_tourcreator.png"},label:cjBasics.lang.i18n("cj_i18n_01462","Tours")},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01458","Categories")},{newTabUrl:n+"category/animals",iconName:"__mdi:pets",label:cjBasics.lang.i18n("cj_i18n_01464","Animals & Pets")},{newTabUrl:n+"category/architecture",iconName:"__mdi:business",label:cjBasics.lang.i18n("cj_i18n_01465","Architecture")},{newTabUrl:n+"category/art",iconName:"__mdi:palette",label:cjBasics.lang.i18n("cj_i18n_01466","Art")},{newTabUrl:n+"category/culture",iconName:"__mdi:language",label:cjBasics.lang.i18n("cj_i18n_01467","Culture & Humanity")},{newTabUrl:n+"category/current-events",iconName:"__mdi:event",label:cjBasics.lang.i18n("cj_i18n_01468","Current Events")},{newTabUrl:n+"category/food",iconName:"__mdi:restaurant",label:cjBasics.lang.i18n("cj_i18n_01469","Food & Drink")},{newTabUrl:n+"category/furniture-home",iconName:"__mdi:weekend",label:cjBasics.lang.i18n("cj_i18n_01470","Furniture & Home")},{newTabUrl:n+"category/history",iconName:"__mdi:account_balance",label:cjBasics.lang.i18n("cj_i18n_01471","History")},{newTabUrl:n+"category/nature",iconName:"__mdi:local_florist",label:cjBasics.lang.i18n("cj_i18n_01472","Nature")},{newTabUrl:n+"category/objects",iconName:"__mdi:category",label:cjBasics.lang.i18n("cj_i18n_01473","Objects")},{newTabUrl:n+"category/people",iconName:"__mdi:adb",label:cjBasics.lang.i18n("cj_i18n_01474","People & Characters")},{newTabUrl:n+"category/places",iconName:"__mdi:landscape",label:cjBasics.lang.i18n("cj_i18n_01475","Places & Scenes")},{newTabUrl:n+"category/science",iconName:"__mdi:memory",label:cjBasics.lang.i18n("cj_i18n_01476","Science")},{newTabUrl:n+"category/sports-fitness",iconName:"__mdi:directions_run",label:cjBasics.lang.i18n("cj_i18n_01477","Sports & Fitness")},{newTabUrl:n+"category/tech",iconName:"__mdi:phone_android",label:cjBasics.lang.i18n("cj_i18n_01478","Tools & Technology")},{newTabUrl:n+"category/transport",iconName:"__mdi:directions_bus",label:cjBasics.lang.i18n("cj_i18n_01479","Transport")},{newTabUrl:n+"category/travel",iconName:"__mdi:explore",label:cjBasics.lang.i18n("cj_i18n_01480","Travel & Leisure")}];function s(e){i.openTab(n+e)}function t(e,a){i.openTab(a.newTabUrl)}function _(e){s("search/"+encodeURIComponent(e))}function b(){s("")}if(a){l=cjce.createElement("bm-ogb",{serviceIcon:"poly",serviceLabel:cjBasics.lang.i18n("cj_i18n_00967","Poly"),pageLabel:cjBasics.lang.i18n("cj_i18n_01167","Links"),searchbox:{submitInNewTab:!0,onSubmit:_},bmApis:i,onNewTab:b}),e.appendChild(l),i.setOnPageDisplayHandler(l.cjceSearchboxEl.select);var m=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"});return e.appendChild(m),g=cjce.createElement("bm-navlist",{items:r,onClick:t,onNewTab:t}),void m.appendChild(g)}function j(e,a){a||(o=e),h.src=p(e)}l=cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"poly",serviceLabel:cjBasics.lang.i18n("cj_i18n_00967","Poly"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),searchbox:{onSubmit:function(e){j(n+"search/"+encodeURIComponent(e),!0)},onMetaSubmit:_,onClear:function(){j(o)}},bmApis:i,onNewTab:function(){h.cjceGetCleanUrl(c).then(function(e){e?i.openTab(e):b()})},onBack:function(){h.cjceSendFrameCommand({method:"bmCstNavigateBack"},c)}}),e.appendChild(l),i.setOnPageDisplayHandler(l.cjceSearchboxEl.select);var d=l.cjceDrawerEl,g=cjce.createElement("bm-navlist",{compact:!0,isSelector:!0,selectedId:"home",items:r,onChange:function(e,a){h.src=p(a.newTabUrl),l.cjceSetPageLabel(a.label)},onNewTab:t});d.appendChild(g);var u=cjBasics.uniqueId.generate();function p(e){return cjBasics.urlParams.attach(e,{bm_cid:"poly",bm_cst:"2",bm_wiz:"1",bm_iid:u,hl:cjBasics.lang.current})}cjBasics.webRequest.handleIframeHeaders([c+"/*bm_iid="+u+"*"],{disableOgs:c,handleFirefoxInject:!0});var h=cjce.createElement("bm-iframe",{src:p(n),solid:"#fff",shadow:i.darkMode,onLoad:function(){l.cjceSetLoading(!1)},onMessage:function(e){var a,c=e.bm_method,n=e.bm_value;"polyBackState"===c?l.cjceSetBackState(n):"bmCstOpenUrl"===c&&(a=cjBasics.cleanBmUrl(n),i.openTab(a))}});e.appendChild(h)});