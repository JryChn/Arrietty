"use strict";cjce.registerTemplate("bm-p-meet",function(e,n){e.style.setProperty("--accent-color","#00897b");var a="https://meet.google.com",c="https://hangouts.google.com",t=cjBasics.uniqueId.generate(),i=cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"meet",serviceLabel:cjBasics.lang.i18n("cj_i18n_00809","Meet"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:n,onNewTab:function(){var e=cjgShortcuts.getUrl("545",n.account);n.openTab(e)}});e.appendChild(i);var s=cjBasics.urlParams.attach(a+"/_meet",{authuser:n.account.authuser,bm_iid:t,bm_cid:"meet",bm_wiz:"1",hl:cjBasics.lang.current}),o=cjBasics.webRequest.addListener("onBeforeRequest",function(e){var a=new URL(e.url),c=a.pathname;if("/"!==c&&"/_meet"!==c){var t=a.origin+c;return"0"===n.account.authuser&&"meet.google.com"!==a.hostname||(t+="?authuser="+n.account.authuser),n.openTab(t),o.removeListener(),i.cjceSetLoading(!0),s+="&",r.src=s,{cancel:!0}}},{urls:[c+"/*bm_iid="+t+"*",a+"/*bm_iid="+t+"*"]},["blocking"]);cjBasics.webRequest.handleIframeHeaders([a+"/*bm_iid="+t+"*",c+"/*bm_iid="+t+"*"],{handleFirefoxInject:!0});var r=cjce.createElement("bm-iframe",{src:s,shadow:!0,solid:"#fff",onLoad:function(){r.src.startsWith("https://")&&i.cjceSetLoading(!1)},onMessage:function(e){var a,c=e.bm_method,t=e.bm_value;"meetOpenUrl"===c&&(a=cjBasics.cleanBmUrl(t),n.openTab(a))}});e.appendChild(r);var l=i.cjceDrawerEl,m={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"545",divider:!0},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},chat:{iconName:"__mdi:cjg_chat",label:cjBasics.lang.i18n("cj_i18n_01338","Hangouts Chat"),shortcutId:"559"},hangouts:{iconName:"__mdi:hangout",label:cjBasics.lang.i18n("cj_i18n_01337","Classic Hangouts"),shortcutId:"218"},calendar:{iconName:"__mdi:event",label:cjBasics.lang.i18n("cj_i18n_00302","Calendar"),shortcutId:"27"}},u=cjce.createElement("bm-navlist",{selectedId:"home",items:m,onClick:function(e){"home"!==e&&n.pageManager.navigate(e)},onNewTab:function(e,a){var c=a.newTabUrl||cjgShortcuts.getUrl(a.shortcutId,n.account);n.openTab(c)}});l.appendChild(u)});