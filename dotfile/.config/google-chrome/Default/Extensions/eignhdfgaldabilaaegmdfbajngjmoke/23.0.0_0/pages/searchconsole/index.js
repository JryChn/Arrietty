"use strict";cjce.registerTemplate("bm-p-searchconsole",function(e,s){var n,c,t,i,a,l=["https://www.googleapis.com/auth/webmasters.readonly"],r="https://content.googleapis.com/webmasters/v3/",o="https://search.google.com/"+s.wizPath,d="home",m=cjBasics.wrif.supported,_={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"731"},legacy:{iconName:"__mdi:history",label:cjBasics.lang.i18n("cj_i18n_01503","Legacy interface"),shortcutId:"158",external:!0},verification:{iconName:"__mdi:verified_user",label:cjBasics.lang.i18n("cj_i18n_06339","Site Verification"),shortcutId:"509",external:!0,divider:!0},toolsHeader:{header:!0,label:cjBasics.lang.i18n("cj_i18n_01504","Tools")},amp:{iconName:"__mdi:offline_bolt",label:cjBasics.lang.i18n("cj_i18n_00288","AMP Test"),shortcutId:"485",external:!m},"mobile-friendly":{iconName:"__mdi:mobile_friendly",label:cjBasics.lang.i18n("cj_i18n_00287","Mobile-Friendly Test"),shortcutId:"336",external:!m},"rich-results":{iconName:"__mdi:search",label:cjBasics.lang.i18n("cj_i18n_01005","Rich Results Test"),shortcutId:"735",external:!m},structureddatatestingtool:{iconName:"__mdi:build",label:cjBasics.lang.i18n("cj_i18n_00270","Structured Data Testing Tool"),shortcutId:"220",external:!0},structureddatamarkuphelper:{iconName:"__mdi:build",label:cjBasics.lang.i18n("cj_i18n_00271","Structured Data Markup Helper"),shortcutId:"223",external:!0},emailmarkuptester:{iconName:"__mdi:email",label:cjBasics.lang.i18n("cj_i18n_00272","Email Markup Tester"),shortcutId:"224",external:!0},crawlurl:{iconName:"__mdi:link",label:cjBasics.lang.i18n("cj_i18n_00774","Crawl URL"),shortcutId:"498",external:!0},removalrequests:{iconName:"__mdi:block",label:cjBasics.lang.i18n("cj_i18n_00528","My Removal Requests"),shortcutId:"190",external:!0},previewtool:{iconName:"__mdi:image_search",label:cjBasics.lang.i18n("cj_i18n_00673","Preview Tool"),shortcutId:"378",external:!0},paidlinks:{iconName:"__mdi:attach_money",label:cjBasics.lang.i18n("cj_i18n_00772","Report paid links"),shortcutId:"496",external:!0},transcoder:{iconName:"__mdi:swap_horiz",label:cjBasics.lang.i18n("cj_i18n_00773","Transcoder"),shortcutId:"497",external:!0}};function u(){var e,i=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"});n.appendChild(i),e=cjBasics.urlParams.attach(r+"sites",{hl:cjBasics.lang.current,fields:"siteEntry(siteUrl,permissionLevel)",prettyPrint:"false"}),cjgApis.request(e,{fetchAs:"json"},{account:s.account,requiredScopes:l}).then(function(e){var a,c,n=e&&e.siteEntry;n&&0<n.length?(a=cjce.createElement("cjmd-list"),n.forEach(function(e){var c=function(c){var e=cjce.createElement("cjmd-item");e.addEventListener("click",function(){var e=cjBasics.urlParams.attach(o+"search-console",{resource_id:c.siteUrl});s.openTab(e)});var a=cjce.createElement("cjmd-icon",{favicon:c.siteUrl});e.appendChild(a);var n=document.createElement("div");n.className="cjmd-item__body";var i=document.createElement("div");i.className="cjmd-item__header",i.textContent=c.siteUrl,n.appendChild(i);var t=document.createElement("div");return t.className="cjmd-secondarytext",t.textContent=c.permissionLevel,n.appendChild(t),e.appendChild(n),e}(e);a.appendChild(c)}),i.appendChild(a)):(c=cjce.createElement("cjmd-emptystate",{label:cjBasics.lang.i18n("cj_i18n_00055","No sites found"),iconName:"__mdi:drive_site"}),i.appendChild(c))},function(e){var c=cjce.createElement("bm-fulldialog",{inline:!0,lockup:{label:cjBasics.lang.i18n("cj_i18n_00444","Search Console")},iconName:"search_console",message:cjBasics.lang.i18n("cj_i18n_00284","Before you can use this page, you need to give access to Google Search Console"),actionLabel:cjBasics.lang.i18n("cj_i18n_01916","Continue with Google"),actionG:!0,action:function(){cjgApis.auth.requestPermissions(s.account,e.cjg_missing_scopes)}});i.appendChild(c)}).then(function(){t.cjceSetLoading(!1)})}function j(e){i||(i=cjBasics.uniqueId.generate(),cjBasics.webRequest.handleIframeHeaders([o+"*bm_iid="+i+"*"],{handleFirefoxInject:!0}));var c,a=cjce.createElement("bm-iframe",{src:(c=e,cjBasics.urlParams.attach(o+"test/"+c,{bm_cid:"searchconsole",bm_wiz:"1",bm_iid:i,hl:cjBasics.lang.current})),solid:"#fff",onLoad:function(){t.cjceSetLoading(!1)}});n.appendChild(a)}function h(e){n.textContent="","home"===e?u():j(e)}t=cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"search_console",serviceLabel:cjBasics.lang.i18n("cj_i18n_00444","Search Console"),pageLabel:_[d].label,bmApis:s,onNewTab:function(){var e=_[d].shortcutId,c=cjgShortcuts.getUrl(e,s.account);s.openTab(c)}}),e.appendChild(t),c=t.cjceDrawerEl,a=cjce.createElement("bm-navlist",{isSelector:!0,selectedId:"home",items:_,compact:!0,onChange:function(e,c){h(e),t.cjceSetPageLabel(c.label)},onNewTab:function(e,c){var a=cjgShortcuts.getUrl(c.shortcutId,s.account);s.openTab(a)}}),c.appendChild(a),n=cjce.createElement("cjmd-container"),h(d),e.appendChild(n)});