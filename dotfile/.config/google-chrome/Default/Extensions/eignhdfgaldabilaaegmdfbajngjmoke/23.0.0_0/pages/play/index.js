"use strict";cjce.registerTemplate("bm-p-play",function(n,l){var r,m,p,u,d,s,t="https://play.google.com",e=!cjBasics.wrif.supported,i=cjBasics.uniqueId.generate(),o="string"==typeof cjBasics.lang.current&&"en"===cjBasics.lang.current.split("-")[0].split("_")[0],h=o?"all":"apps",b="home",_="",j="Loading...",g=cjBasics.lang.i18n("cj_i18n_00107","All"),v=cjBasics.lang.i18n("cj_i18n_01697","Entertainment"),f=l.darkMode?"#fff":"#212121",y=f,a="",c="";"0"!==l.account.authuser&&(a+="?authuser="+l.account.authuser,c+="?u="+l.account.authuser);var B,w,T,k,S={bm_cid:"play",bm_cst:"2",bm_wiz:"1",bm_iid:i,hl:cjBasics.lang.current},N={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),pathname:"/store",newTabUrl:!0},account:{iconName:"__mdi:account_circle",label:cjBasics.lang.i18n("cj_i18n_00481","Account"),pathname:"/store/account",newTabUrl:!0},paymentmethods:{iconName:"__mdi:payment",label:cjBasics.lang.i18n("cj_i18n_01517","Payment methods"),pathname:"/store/paymentmethods",newTabUrl:!0},subscriptions:{iconName:"__mdi:autorenew",label:cjBasics.lang.i18n("cj_i18n_01089","Subscriptions"),pathname:"/store/account/subscriptions",newTabUrl:!0},wishlist:{iconName:"__mdi:cjg_wishlist",label:cjBasics.lang.i18n("cj_i18n_00550","Wishlist"),pathname:"/wishlist",newTabUrl:!0},playActivity:{iconName:"__mdi:rate_review",label:cjBasics.lang.i18n("cj_i18n_01696","My Play activity"),pathname:"/store/myplayactivity",newTabUrl:!0},settings:{iconName:"__mdi:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),pathname:"/settings",newTabUrl:!0},appsHeader:{header:!0,label:cjBasics.lang.i18n("cj_i18n_00216","Apps")},movies:{label:cjBasics.lang.i18n("cj_i18n_01725","Play Movies & TV"),iconName:"__mdi:play_movies",color:"#ea4335",pathname:"/movies",newTabUrl:!0,colorIcon:!0},books:{label:cjBasics.lang.i18n("cj_i18n_00285","Play Books"),iconName:"__mdi:play_books",color:"#03a9f4",pathname:"/books",newTabUrl:!0,colorIcon:!0},music:{label:cjBasics.lang.i18n("cj_i18n_00431","Play Music"),iconName:"__mdi:play_music",color:"#ff5722",newTabUrl:"https://play.google.com/music/listen"+c,colorIcon:!0},linksHeader:{header:!0,label:cjBasics.lang.i18n("cj_i18n_00047","More")},redeem:{iconName:"__mdi:redeem",label:cjBasics.lang.i18n("cj_i18n_01677","Redeem code"),pathname:"/store",urlParams:{code:""},newTabUrl:!0,external:!e},giftcard:{iconName:"__mdi:card_giftcard",label:cjBasics.lang.i18n("cj_i18n_01694","Buy gift card"),pathname:"/about/giftcards/",newTabUrl:!0,external:!e},help:{iconName:"__mdi:help_outline",label:cjBasics.lang.i18n("cj_i18n_00438","Help"),newTabUrl:"https://support.google.com/googleplay"+a,external:!e},parentGuide:{iconName:"__mdi:supervisor_account",label:cjBasics.lang.i18n("cj_i18n_01695","Parent guide"),newTabUrl:"https://support.google.com/googleplay/answer/6209547"+a,external:!e}},U={all:{searchType:"all",label:v,pathname:"/store",iconName:"__mdi:cj_play_entertainment",newTabUrl:!0,color:f},apps:{searchType:"apps",label:cjBasics.lang.i18n("cj_i18n_00216","Apps"),pathname:"/store/apps",iconName:"__mdi:cj_play_android",newTabUrl:!0,color:"#34a853"},movies:{searchType:"movies",label:cjBasics.lang.i18n("cj_i18n_00480","Movies"),pathname:"/store/movies",iconName:"__mdi:play_movies",newTabUrl:!0,color:"#ea4335"},books:{searchType:"books",label:cjBasics.lang.i18n("cj_i18n_00218","Books"),pathname:"/store/books",iconName:"__mdi:play_books",newTabUrl:!0,color:"#03a9f4"},music:{searchType:"music",label:cjBasics.lang.i18n("cj_i18n_00219","Music"),pathname:"/store/music",iconName:"__mdi:play_music",newTabUrl:!0,color:"#ff5722"}};function C(e){b="home",W(x(h=e))}function P(e,a){var c=cjBasics.urlParams.attach(t+"/store/search",{q:e,c:I(a),authuser:l.account.authuser});l.openTab(c)}function I(e){return e&&"all"!==e&&"entertainment"!==e?e:null}function x(e){var a=I(e);return a?"/store/"+a:"/store"}function M(e){W("/store/search",{q:_=e,c:I(h)})}function E(){s.cjceGetCleanUrl(t).then(function(e){var a=e||t+"/store";l.openTab(a)})}function A(e){var a,c=N[e]||U[e],n=c.newTabUrl;!0===c.newTabUrl&&((a=c.urlParams||{}).authuser=l.account.authuser,n=cjBasics.urlParams.attach(t+c.pathname,a)),l.openTab(n)}function O(e,a){var c,n,s=a.searchType&&m.value;s?P(s,a.searchType):(c=a.newTabUrl,!0===a.newTabUrl&&((n=a.urlParams||{}).authuser=l.account.authuser,c=cjBasics.urlParams.attach(t+a.pathname,n)),l.openTab(c))}function H(){s.cjceSendFrameCommand({method:"bmCstNavigateBack"},t)}function L(e,a){var c="";return e&&(c+=e),c=cjBasics.urlParams.attach(c,S),a&&(c=cjBasics.urlParams.attach(c,a)),c}function W(e,a){var c=L(e,a);s.cjceSendFrameCommand({method:"bmCstUpdatePath",value:c},t)}o||delete U.all,e?(r=cjce.createElement("bm-ogb",{serviceIcon:"play",serviceLabel:cjBasics.lang.i18n("cj_i18n_00430","Play Store"),pageLabel:cjBasics.lang.i18n("cj_i18n_01167","Links"),searchbox:{onSubmit:P,submitInNewTab:!0},bmApis:l,onNewTab:function(){A("home")}}),n.appendChild(r),m=r.cjceSearchboxEl,l.setOnPageDisplayHandler(function(e){m.select()}),B=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),n.appendChild(B),T=Object.keys(U).map(function(e){return U[e]}),w=["appsHeader","movies","books","music","linksHeader","account","subscriptions","wishlist","playActivity","redeem","giftcard","parentGuide","settings","help"].map(function(e){var a=N[e];return a.id=e,a}),T=T.concat(w),k=cjce.createElement("bm-navlist",{items:T,onClick:function(e,a){"movies"===e||"books"===e||"music"===e?l.pageManager.navigate(e):O(0,a)},onNewTab:O}),B.appendChild(k)):function(){r=cjce.createElement("bm-ogb",{loading:f,drawer:{color:f},searchbox:{color:f,onClear:function(){r.cjceSetNavigatorCollapseState("search"===b),setTimeout(function(){r.cjceSetNavigatorCollapseState("search"===b)})},onSubmit:M,onMetaSubmit:function(e){P(e,h)}},serviceIcon:"play",serviceLabel:cjBasics.lang.i18n("cj_i18n_00430","Play Store"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:l,onNewTab:E,onBack:function(){"search"===b?(_="",m.value="",h="music"===h||"movies"===h||"books"===h||"apps"===h?h:o?"all":"apps",W(x(u.cjceSelectedId=h))):H()}}),n.appendChild(r);var e=r.cjceDrawerEl;m=r.cjceSearchboxEl,l.setOnPageDisplayHandler(function(e){e.typeId&&C(e.typeId),m.select()}),k=cjce.createElement("bm-navlist",{isSelector:!0,items:N,selectedId:b,onChange:function(e){"music"===e||"movies"===e||"books"===e?(l.pageManager.navigate(e),k.cjceSelectedId=b):W((N[e]||{}).pathname)},onNewTab:A}),e.appendChild(k),(p=cjce.createElement("cjmd-iconbutton",{iconName:"__mdi:search",onClick:function(){W("/store/search",{q:_,c:I(h)}),r.cjceSetBackState(!0),r.cjceSetNavigatorCollapseState(!0),m.hidden=!1,p.hidden=!0,m.select()}})).hidden=!0,r.cjceAppendChild(p);var a=x(h),c=t+L(a);d=cjce.createElement("cjmd-appbar",{secondary:!0}),y=U[h]&&U[h].color||f,u=cjce.createElement("cjmd-tabs",{color:y,items:U,onChange:function(e){y=U[e].color,u.style.setProperty("--accent-color",y),"search"===b?W("/store/search",{q:_,c:I(h=e)}):C(e)},onActiveClick:function(e){"search"!==b&&C(e)},onMetaClick:A,selectedId:h}),d.appendChild(u),r.appendChild(d),cjBasics.webRequest.handleIframeHeaders([t+"/*bm_iid="+i+"*"],{useMobileUserAgent:!0,handleFirefoxInject:!0}),s=cjce.createElement("bm-iframe",{src:c,solid:"#fff",shadow:!0,onMessage:function(e){var a,c=e.bm_method,n=e.bm_value;"playPageTitle"===c?(j=n,b||r.cjceSetPageLabel(j)):"playUrlUpdate"===c?function(e){var a=e.pathname;if(a.startsWith("/music"))return H(),l.pageManager.navigate("music");if(a.startsWith("/movies"))return H(),l.pageManager.navigate("movies");if(a.startsWith("/books"))return H(),l.pageManager.navigate("books");var c=null,n=null;a.startsWith("/store/apps")||a.startsWith("/apps")?n="apps":a.startsWith("/store/movies")?n="movies":a.startsWith("/store/books")?n="books":a.startsWith("/store/music")?n="music":"/store"===a?n="all":"/store/account"===a?c="account":"/store/account/subscriptions"===a?c="subscriptions":"/settings"===a?c="settings":"/wishlist"===a?c="wishlist":"/store/people/details"===a&&-1!==e.search.indexOf(l.account.obfuscatedId)?c="playActivity":a.startsWith("/store/search")&&(c="search",n="all",-1!==e.search.indexOf("c=music")?n="music":-1!==e.search.indexOf("c=books")?n="books":-1!==e.search.indexOf("c=apps")?n="apps":-1!==e.search.indexOf("c=movies")&&(n="movies"));var s=u.querySelector('[data-id="all"]');s&&(s.textContent="search"===c?g:v),-1!==["/store","/store/apps","/store/movies","/store/books","/store/music"].indexOf(a)&&(c="home");var t="home"!==c&&"search"!==c;d.hidden=!n,u.cjceSelectedId=n,y=U[n]&&U[n].color||f,u.style.setProperty("--accent-color",y),k.cjceSelectedId=c;var i,o=N[c];"search"!==c&&(i=o&&o.label||j,r.cjceSetPageLabel(i)),r.cjceSetBackState("home"!==c),r.cjceSetNavigatorCollapseState("search"===c),m.hidden=t,p.hidden=!t,b=c,h=n}(n):"bmCstOpenUrl"===c&&(a=cjBasics.cleanBmUrl(n),l.openTab(a))},onLoad:function(){r.cjceSetLoading(!1)}}),n.appendChild(s)}()});