"use strict";!function(){function a(e,n,o){var t=o||"*";"*"===t&&console.debug("frame messaging - missing origin"),e.postMessage({bm_method:n.method,bm_value:n.value,bm_request:n.request},t)}function t(e,n,o){var s=cjBasics.uniqueId.generate(),t=new Promise(function(t){window.addEventListener("message",function e(n){var o=n.data||{};o.bm_request===s&&(window.removeEventListener("message",e),t(o.bm_value))})});return a(e,{method:n.method,value:n.value,request:s},o),t}cjce.registerTemplate("basic-iframe",function(o,n){o.src=n.src||"about:blank";var e="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts";"string"==typeof n.sandbox&&(e=n.sandbox),o.sandbox=e,"string"==typeof n.allow&&(o.allow=n.allow),n.onMessage&&window.addEventListener("message",function(e){e.source===o.contentWindow&&e.origin===new URL(o.src).origin&&n.onMessage(e.data||{})}),n.hidden&&(o.hidden=!0,o.setAttribute("style","display: none !important;")),o.cjceSendFrameRequest=function(e,n){return t(o.contentWindow,e,n)},o.cjceSendFrameCommand=function(e,n){return a(o.contentWindow,e,n)}},"iframe")}();